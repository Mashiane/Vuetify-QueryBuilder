{"remainingRequest":"/Users/Tamer/Vuetify-QueryBuilder3/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Tamer/Vuetify-QueryBuilder3/src/components/QueryBuilder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Tamer/Vuetify-QueryBuilder3/src/components/QueryBuilder.vue","mtime":1595443136899},{"path":"/Users/Tamer/Vuetify-QueryBuilder3/node_modules/cache-loader/dist/cjs.js","mtime":1588541276913},{"path":"/Users/Tamer/Vuetify-QueryBuilder3/node_modules/babel-loader/lib/index.js","mtime":1588541276015},{"path":"/Users/Tamer/Vuetify-QueryBuilder3/node_modules/vuetify-loader/lib/loader.js","mtime":1585901980231},{"path":"/Users/Tamer/Vuetify-QueryBuilder3/node_modules/cache-loader/dist/cjs.js","mtime":1588541276913},{"path":"/Users/Tamer/Vuetify-QueryBuilder3/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1588541283263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUXVlcnlCdWlsZGVyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkZWRGaWx0ZXJzOiBbXSwKICAgICAgZmlsdGVySW5kZXg6IDAsCiAgICAgIGNvbHVtblNlYXJjaDogIiIsCiAgICAgIHZhbGlkUm93TnVtYmVyRm9ybTogdHJ1ZSwKICAgICAgdmFsaWRGaWx0ZXJzOiBmYWxzZSwKICAgICAgbnVtYmVyUm93czogMTAwMDAsCiAgICAgIGFkZGVkQ29sdW1uczogW10sCiAgICAgIGZpbGU6ICIiLAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICJSZXF1aXJlZC4iLAogICAgICAgIG1heEFuZEludFF1ZXJ5Um93czogdmFsdWUgPT4KICAgICAgICAgICghIXBhcnNlSW50KHZhbHVlKSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMDAwKSB8fAogICAgICAgICAgIlBsZWFzZSBpbnNlcnQgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAxMDAwMCByb3dzIgogICAgICB9LAogICAgICBzZWxlY3RBbGxDb2x1bW5zOiBmYWxzZSwKICAgICAgY29sdW1uTmFtZXM6IFsKICAgICAgICAiRGF0ZSBDb2x1bW4gMSIsCiAgICAgICAgIk51bWVyaWMgQ29sdW1uIDEiLAogICAgICAgICJOdW1lcmljIENvbHVtbiAyIiwKICAgICAgICAiU3RyaW5nIENvbHVtbiAxIiwKICAgICAgICAiU3RyaW5nIENvbHVtbiAyIiwKICAgICAgICAiVGltZSBDb2x1bW4gMSIsCiAgICAgICAgIkRhdGV0aW1lIENvbHVtbiAxIgogICAgICBdLAogICAgICB0YWJsZXM6IFsiVGFibGUxIiwgIlRhYmxlMiIsICJUYWJsZTMiLCAiVGFibGU0Il0sCiAgICAgIGZpbHRlcnM6IFsKICAgICAgICAiZXF1YWwiLAogICAgICAgICJub3QgZXF1YWwiLAogICAgICAgICJncmVhdGVyIHRoYW4iLAogICAgICAgICJsZXNzIHRoYW4iLAogICAgICAgICJiZXR3ZWVuIiwKICAgICAgICAiaW4iCiAgICAgIF0sCiAgICAgIHNlbGVjdGVkVGFibGU6IG51bGwsCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7CiAgICAgICAgICBjb2xOYW1lOiAiRGF0ZSBDb2x1bW4gMSIsCiAgICAgICAgICB0eXBlOiAiREFURSIsCiAgICAgICAgICBkZXNjOiAidGhpcyBpcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBjb2x1bW4iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBjb2xOYW1lOiAiTnVtZXJpYyBDb2x1bW4gMSIsCiAgICAgICAgICB0eXBlOiAiTlVNRVJJQyIsCiAgICAgICAgICBkZXNjOiAidGhpcyBpcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBjb2x1bW4iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBjb2xOYW1lOiAiTnVtZXJpYyBDb2x1bW4gMiIsCiAgICAgICAgICB0eXBlOiAiTlVNRVJJQyIsCiAgICAgICAgICBkZXNjOiAidGhpcyBpcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBjb2x1bW4iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBjb2xOYW1lOiAiU3RyaW5nIENvbHVtbiAxIiwKICAgICAgICAgIHR5cGU6ICJDSEFSQUNURVIiLAogICAgICAgICAgZGVzYzogInRoaXMgaXMgYSB0YW1lciBvZiB0aGUgY29sdW1uIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgY29sTmFtZTogIkRhdGUgQ29sdW1uIDIiLAogICAgICAgICAgdHlwZTogIkRBVEUiLAogICAgICAgICAgZGVzYzogInRoaXMgaXMgYSBqb2huIGRlc2NyaXB0aW9uIG9mIHRoZSBjb2x1bW4iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBjb2xOYW1lOiAiU3RyaW5nIENvbHVtbiAyIiwKICAgICAgICAgIHR5cGU6ICJDSEFSQUNURVIiLAogICAgICAgICAgZGVzYzogInRoaXMgaXMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgY29sdW1uIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgY29sTmFtZTogIlRpbWUgQ29sdW1uIDEiLAogICAgICAgICAgdHlwZTogIlRJTUUiLAogICAgICAgICAgZGVzYzogInRoaXMgaXMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgY29sdW1uIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgY29sTmFtZTogIkRhdGV0aW1lIENvbHVtbiAxIiwKICAgICAgICAgIHR5cGU6ICJEQVRFVElNRSIsCiAgICAgICAgICBkZXNjOiAidGhpcyBpcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBjb2x1bW4iCiAgICAgICAgfQogICAgICBdLAogICAgICBvcGVyYXRvcnM6IHsKICAgICAgICAiZ3JlYXRlciB0aGFuIjogIj4iLAogICAgICAgICJsZXNzIHRoYW4iOiAiPCIsCiAgICAgICAgZXF1YWw6ICI9PSIsCiAgICAgICAgIm5vdCBlcXVhbCI6ICIhPT0iLAogICAgICAgIGluOiAiaW4iLAogICAgICAgIGJldHdlZW46ICJiZXR3ZWVuIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7CgogICAgICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlLnNwbGl0KCItIik7CiAgICAgIHJldHVybiBgJHttb250aH0vJHtkYXl9LyR7eWVhcn1gOwogICAgfSwKICAgIGFkZENvbHVtbjogZnVuY3Rpb24oY29sRGF0YSkgewogICAgICBpZiAodGhpcy4kZGF0YS5hZGRlZENvbHVtbnMuaW5jbHVkZXMoY29sRGF0YSkgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy4kZGF0YS5hZGRlZENvbHVtbnMucHVzaChjb2xEYXRhKTsKICAgICAgfQogICAgfSwKICAgIGFkZEFsbENvbHVtbnM6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLiRkYXRhLmFkZGVkQ29sdW1ucyA9IEFycmF5LmZyb20odGhpcy4kZGF0YS5jb2x1bW5zKTsKICAgIH0sCiAgICByZW1vdmVDb2x1bW5zOiBmdW5jdGlvbihjb2xEYXRhKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy4kZGF0YS5hZGRlZENvbHVtbnMuaW5kZXhPZihjb2xEYXRhKTsKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLiRkYXRhLmFkZGVkQ29sdW1ucy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzID0gdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnMuZmlsdGVyKAogICAgICAgIGZpbHRlciA9PiBmaWx0ZXIuY29sdW1uICE9PSBjb2xEYXRhLmNvbE5hbWUKICAgICAgKTsKICAgIH0sCiAgICByZW1vdmVBbGxDb2x1bW5zOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy4kZGF0YS5hZGRlZENvbHVtbnMgPSBbXTsKICAgIH0sCiAgICBwYXJzZURhdGUoZGF0ZSkgewogICAgICBpZiAoIWRhdGUpIHJldHVybiBudWxsOwoKICAgICAgY29uc3QgW21vbnRoLCBkYXksIHllYXJdID0gZGF0ZS5zcGxpdCgiLyIpOwogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aC5wYWRTdGFydCgyLCAiMCIpfS0ke2RheS5wYWRTdGFydCgyLCAiMCIpfWA7CiAgICB9LAogICAgbG9hZFRleHRGcm9tRmlsZShldikgewogICAgICBjb25zdCBmaWxlID0gZXYudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIub25sb2FkID0gZSA9PiB0aGlzLnNldEZpbGVDb250ZW50Rm9yRmlsdGVyKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpOwogICAgfSwKICAgIHVwbG9hZEZpbGUoZXZ0LCBmaWx0ZXJJZHgpIHsKICAgICAgY29uc29sZS5sb2coZXZ0KTsKICAgICAgaWYgKGV2dCAhPT0gdW5kZWZpbmVkICYmIGV2dCAhPT0gbnVsbCkgewogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGV2dCk7CiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgIHRoaXMuc2V0RmlsZUNvbnRlbnRGb3JGaWx0ZXIocmVhZGVyLnJlc3VsdCwgZmlsdGVySWR4KTsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzW2ZpbHRlcklkeF0uZmlsZUNvbnRlbnQgPSBudWxsOwogICAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzW2ZpbHRlcklkeF0uZmlsZSA9IG51bGw7CiAgICAgICAgdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnNbZmlsdGVySWR4XS5pbnB1dEZpZWxkMSA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzZXRGaWxlQ29udGVudEZvckZpbHRlcihmaWxlRGF0YSwgZmlsdGVySWR4KSB7CiAgICAgIGNvbnNvbGUubG9nKCJzZXR0aW5nIGRhdGEiKTsKICAgICAgY29uc3QgZmlsdGVyID0gdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnNbZmlsdGVySWR4XTsKICAgICAgdmFyIGZvcm1hdHRlckRhdGE7CiAgICAgIGlmIChmaWx0ZXIgJiYgdGhpcy5jb2xUeXBlKGZpbHRlci5jb2x1bW4pID09PSAiTlVNRVJJQyIpIHsKICAgICAgICBmb3JtYXR0ZXJEYXRhID0gZmlsZURhdGEKICAgICAgICAgIC5zcGxpdCgiXG4iKQogICAgICAgICAgLm1hcChkYXRhUG9pbnQgPT4gcGFyc2VJbnQoZGF0YVBvaW50KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9ybWF0dGVyRGF0YSA9IGZpbGVEYXRhCiAgICAgICAgICAuc3BsaXQoIlxuIikKICAgICAgICAgIC5tYXAoZGF0YVBvaW50ID0+IGRhdGFQb2ludC50b1N0cmluZygpKTsKICAgICAgfQogICAgICB0aGlzLiRkYXRhLmFkZGVkRmlsdGVyc1tmaWx0ZXJJZHhdLmZpbGVDb250ZW50ID0gZm9ybWF0dGVyRGF0YTsKICAgICAgdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnNbZmlsdGVySWR4XS5pbnB1dEZpZWxkMSA9IGZvcm1hdHRlckRhdGE7CiAgICB9LAogICAgYWRkRmlsdGVyKGNvbERhdGEgPSBudWxsKSB7CiAgICAgIGxldCBpZCA9IHRoaXMuJGRhdGEuZmlsdGVySW5kZXg7CiAgICAgIGxldCBmaWx0ZXJEYXRhID0gewogICAgICAgIGluZGV4OiBpZCwKICAgICAgICBjb2x1bW46IG51bGwsCiAgICAgICAgYW5kT3JPcjogImFuZCIsCiAgICAgICAgZmlsdGVyOiBudWxsLAogICAgICAgIGlucHV0RmllbGQxOiBudWxsLAogICAgICAgIGlucHV0RmllbGQyOiBudWxsLAogICAgICAgIGRhdGVQaWNrZXIxOiBudWxsLAogICAgICAgIGRhdGVQaWNrZXIyOiBudWxsLAogICAgICAgIHRpbWVQaWNrZXIxOiBudWxsLAogICAgICAgIHRpbWVQaWNrZXIyOiBudWxsLAogICAgICAgIGZpbGU6IG51bGwsCiAgICAgICAgZmlsZUNvbnRlbnQ6IG51bGwKICAgICAgfTsKICAgICAgaWYgKGNvbERhdGEgIT09IG51bGwpIHsKICAgICAgICBmaWx0ZXJEYXRhLmNvbHVtbiA9IGNvbERhdGEuY29sTmFtZTsKICAgICAgfQogICAgICB0aGlzLiRkYXRhLmFkZGVkRmlsdGVycy5wdXNoKGZpbHRlckRhdGEpOwogICAgICB0aGlzLiRkYXRhLmZpbHRlckluZGV4ICs9IDE7CiAgICB9LAogICAgcmVtb3ZlRmlsdGVyKGZpbHRlckluZGV4KSB7CiAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzID0gdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnMuZmlsdGVyKAogICAgICAgIGZpbHRlciA9PiBmaWx0ZXIuaW5kZXggIT09IGZpbHRlckluZGV4CiAgICAgICk7CiAgICB9LAogICAgY2xlYXJGaWx0ZXJEYXRhVXBvbkNvbHVtbkNoYW5nZShmaWx0ZXJBcnJheUluZGV4KSB7CiAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzW2ZpbHRlckFycmF5SW5kZXhdLmZpbHRlciA9IG51bGw7CiAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzW2ZpbHRlckFycmF5SW5kZXhdLmlucHV0RmllbGQxID0gbnVsbDsKICAgICAgdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnNbZmlsdGVyQXJyYXlJbmRleF0uaW5wdXRGaWVsZDIgPSBudWxsOwogICAgICB0aGlzLiRkYXRhLmFkZGVkRmlsdGVyc1tmaWx0ZXJBcnJheUluZGV4XS5kYXRlUGlja2VyMSA9IG51bGw7CiAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzW2ZpbHRlckFycmF5SW5kZXhdLmRhdGVQaWNrZXIyID0gbnVsbDsKICAgICAgdGhpcy4kZGF0YS5hZGRlZEZpbHRlcnNbZmlsdGVyQXJyYXlJbmRleF0udGltZVBpY2tlcjEgPSBudWxsOwogICAgICB0aGlzLiRkYXRhLmFkZGVkRmlsdGVyc1tmaWx0ZXJBcnJheUluZGV4XS50aW1lUGlja2VyMiA9IG51bGw7CiAgICAgIHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzW2ZpbHRlckFycmF5SW5kZXhdLmZpbGVDb250ZW50ID0gbnVsbDsKICAgIH0sCiAgICBjb2xUeXBlKGNvbCkgewogICAgICBpZiAoY29sKSB7CiAgICAgICAgY29uc3QgY29sRGF0YSA9IHRoaXMuJGRhdGEuY29sdW1ucy5maW5kKGl0ZW0gPT4gaXRlbS5jb2xOYW1lID09PSBjb2wpOwogICAgICAgIHJldHVybiBjb2xEYXRhLnR5cGU7CiAgICAgIH0KICAgIH0sCiAgICBjb2x1bW5GaWx0ZXJzKGNvbCkgewogICAgICBpZiAoY29sICE9PSBudWxsICYmIGNvbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc3QgY29sRGF0YSA9IHRoaXMuJGRhdGEuY29sdW1ucy5maW5kKGl0ZW0gPT4gaXRlbS5jb2xOYW1lID09PSBjb2wpOwogICAgICAgIGlmICgKICAgICAgICAgIFsiTlVNRVJJQyIsICJEQVRFIiwgIlRJTUUiLCAiREFURVRJTUUiXS5pbmNsdWRlcyhjb2xEYXRhLnR5cGUpID09PQogICAgICAgICAgdHJ1ZQogICAgICAgICkgewogICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgImVxdWFsIiwKICAgICAgICAgICAgIm5vdCBlcXVhbCIsCiAgICAgICAgICAgICJncmVhdGVyIHRoYW4iLAogICAgICAgICAgICAibGVzcyB0aGFuIiwKICAgICAgICAgICAgImJldHdlZW4iLAogICAgICAgICAgICAiaW4iCiAgICAgICAgICBdOwogICAgICAgIH0gZWxzZSBpZiAoY29sRGF0YS50eXBlID09PSAiQ0hBUkFDVEVSIikgewogICAgICAgICAgcmV0dXJuIFsiZXF1YWwiLCAibm90IGVxdWFsIiwgImluIl07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkRGF0ZUZvcm1hdHRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUpOwogICAgfSwKICAgIHF1ZXJ5KCkgewogICAgICBjb25zdCBzZWxlY3RTdGF0ZW1lbnQgPQogICAgICAgIHRoaXMuJGRhdGEuYWRkZWRDb2x1bW5zLmxlbmd0aCA9PT0gdGhpcy4kZGF0YS5jb2x1bW5zLmxlbmd0aAogICAgICAgICAgPyAiU0VMRUNUICoiCiAgICAgICAgICA6IGBTRUxFQ1QgJHt0aGlzLnNlbGVjdGVkQ29sdW1ucy5tYXAoY29sID0+IGAiJHtjb2x9ImApLmpvaW4oIiwgIil9YCArCiAgICAgICAgICAgIGBcbkZST00gJHt0aGlzLiRkYXRhLnNlbGVjdGVkVGFibGV9YDsKICAgICAgaWYgKHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICBsZXQgY29uZGl0aW9uc1N0YXRlbWVudCA9IHRoaXMuJGRhdGEuYWRkZWRGaWx0ZXJzLm1hcCgKICAgICAgICAgIChmaWx0ZXIsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGxldCBzdGF0ZW1lbnQgPQogICAgICAgICAgICAgIGluZGV4ID4gMAogICAgICAgICAgICAgICAgPyBgJHtmaWx0ZXIuYW5kT3JPcn0gIiR7ZmlsdGVyLmNvbHVtbn0iYAogICAgICAgICAgICAgICAgOiBgIiR7ZmlsdGVyLmNvbHVtbn0iYDsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIFsiZXF1YWwiLCAibm90IGVxdWFsIiwgImdyZWF0ZXIgdGhhbiIsICJsZXNzIHRoYW4iXS5pbmNsdWRlcygKICAgICAgICAgICAgICAgIGZpbHRlci5maWx0ZXIKICAgICAgICAgICAgICApICYmCiAgICAgICAgICAgICAgdGhpcy5jb2xUeXBlKGZpbHRlci5jb2x1bW4pID09PSAiTlVNRVJJQyIKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgc3RhdGVtZW50ID0gYCR7c3RhdGVtZW50fSAkewogICAgICAgICAgICAgICAgdGhpcy4kZGF0YS5vcGVyYXRvcnNbZmlsdGVyLmZpbHRlcl0KICAgICAgICAgICAgICB9ICR7ZmlsdGVyLmlucHV0RmllbGQxfWA7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlbWVudDsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICBbImVxdWFsIiwgIm5vdCBlcXVhbCJdLmluY2x1ZGVzKGZpbHRlci5maWx0ZXIpICYmCiAgICAgICAgICAgICAgdGhpcy5jb2xUeXBlKGZpbHRlci5jb2x1bW4pID09PSAiQ0hBUkFDVEVSIgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBzdGF0ZW1lbnQgPSBgJHtzdGF0ZW1lbnR9ICR7CiAgICAgICAgICAgICAgICB0aGlzLiRkYXRhLm9wZXJhdG9yc1tmaWx0ZXIuZmlsdGVyXQogICAgICAgICAgICAgIH0gJyR7ZmlsdGVyLmlucHV0RmllbGQxfSdgOwogICAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgWyJlcXVhbCIsICJub3QgZXF1YWwiLCAiZ3JlYXRlciB0aGFuIiwgImxlc3MgdGhhbiJdLmluY2x1ZGVzKAogICAgICAgICAgICAgICAgZmlsdGVyLmZpbHRlcgogICAgICAgICAgICAgICkgJiYKICAgICAgICAgICAgICB0aGlzLmNvbFR5cGUoZmlsdGVyLmNvbHVtbikgPT09ICJEQVRFIgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBzdGF0ZW1lbnQgPSBgJHtzdGF0ZW1lbnR9ICR7CiAgICAgICAgICAgICAgICB0aGlzLiRkYXRhLm9wZXJhdG9yc1tmaWx0ZXIuZmlsdGVyXQogICAgICAgICAgICAgIH0gJyR7ZmlsdGVyLmRhdGVQaWNrZXIxfSdgOwogICAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgZmlsdGVyLmZpbHRlciA9PT0gImJldHdlZW4iICYmCiAgICAgICAgICAgICAgdGhpcy5jb2xUeXBlKGZpbHRlci5jb2x1bW4pID09PSAiREFURSIKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgc3RhdGVtZW50ID0gYCR7c3RhdGVtZW50fSAkewogICAgICAgICAgICAgICAgdGhpcy4kZGF0YS5vcGVyYXRvcnNbZmlsdGVyLmZpbHRlcl0KICAgICAgICAgICAgICB9ICcke2ZpbHRlci5kYXRlUGlja2VyMX0nIGFuZCAnJHtmaWx0ZXIuZGF0ZVBpY2tlcjJ9J2A7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlbWVudDsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICBbImVxdWFsIiwgIm5vdCBlcXVhbCIsICJncmVhdGVyIHRoYW4iLCAibGVzcyB0aGFuIl0uaW5jbHVkZXMoCiAgICAgICAgICAgICAgICBmaWx0ZXIuZmlsdGVyCiAgICAgICAgICAgICAgKSAmJgogICAgICAgICAgICAgIHRoaXMuY29sVHlwZShmaWx0ZXIuY29sdW1uKSA9PT0gIlRJTUUiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHN0YXRlbWVudCA9IGAke3N0YXRlbWVudH0gJHsKICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEub3BlcmF0b3JzW2ZpbHRlci5maWx0ZXJdCiAgICAgICAgICAgICAgfSAnJHtmaWx0ZXIudGltZVBpY2tlcjF9J2A7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlbWVudDsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICBmaWx0ZXIuZmlsdGVyID09PSAiYmV0d2VlbiIgJiYKICAgICAgICAgICAgICB0aGlzLmNvbFR5cGUoZmlsdGVyLmNvbHVtbikgPT09ICJUSU1FIgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBzdGF0ZW1lbnQgPSBgJHtzdGF0ZW1lbnR9ICR7CiAgICAgICAgICAgICAgICB0aGlzLiRkYXRhLm9wZXJhdG9yc1tmaWx0ZXIuZmlsdGVyXQogICAgICAgICAgICAgIH0gJyR7ZmlsdGVyLnRpbWVQaWNrZXIxfScgYW5kICcke2ZpbHRlci50aW1lUGlja2VyMn0nYDsKICAgICAgICAgICAgICByZXR1cm4gc3RhdGVtZW50OwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIFsiZXF1YWwiLCAibm90IGVxdWFsIiwgImdyZWF0ZXIgdGhhbiIsICJsZXNzIHRoYW4iXS5pbmNsdWRlcygKICAgICAgICAgICAgICAgIGZpbHRlci5maWx0ZXIKICAgICAgICAgICAgICApICYmCiAgICAgICAgICAgICAgdGhpcy5jb2xUeXBlKGZpbHRlci5jb2x1bW4pID09PSAiREFURVRJTUUiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHN0YXRlbWVudCA9IGAke3N0YXRlbWVudH0gJHsKICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEub3BlcmF0b3JzW2ZpbHRlci5maWx0ZXJdCiAgICAgICAgICAgICAgfSAnJHtmaWx0ZXIuZGF0ZVBpY2tlcjF9ICR7ZmlsdGVyLnRpbWVQaWNrZXIxfSdgOwogICAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgZmlsdGVyLmZpbHRlciA9PT0gImJldHdlZW4iICYmCiAgICAgICAgICAgICAgdGhpcy5jb2xUeXBlKGZpbHRlci5jb2x1bW4pID09PSAiREFURVRJTUUiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHN0YXRlbWVudCA9IGAke3N0YXRlbWVudH0gJHsKICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEub3BlcmF0b3JzW2ZpbHRlci5maWx0ZXJdCiAgICAgICAgICAgICAgfSAnJHtmaWx0ZXIuZGF0ZVBpY2tlcjF9ICR7ZmlsdGVyLnRpbWVQaWNrZXIxfScgYW5kICckewogICAgICAgICAgICAgICAgZmlsdGVyLmRhdGVQaWNrZXIyCiAgICAgICAgICAgICAgfSAke2ZpbHRlci50aW1lUGlja2VyMn0nYDsKICAgICAgICAgICAgICByZXR1cm4gc3RhdGVtZW50OwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIGZpbHRlci5maWx0ZXIgPT09ICJiZXR3ZWVuIiAmJgogICAgICAgICAgICAgIHRoaXMuY29sVHlwZShmaWx0ZXIuY29sdW1uKSA9PT0gIk5VTUVSSUMiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHN0YXRlbWVudCA9IGAke3N0YXRlbWVudH0gJHsKICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEub3BlcmF0b3JzW2ZpbHRlci5maWx0ZXJdCiAgICAgICAgICAgICAgfSAnJHtmaWx0ZXIuaW5wdXRGaWVsZDF9JyBhbmQgJyR7ZmlsdGVyLmlucHV0RmllbGQyfSdgOwogICAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLmZpbHRlciA9PT0gImluIikgewogICAgICAgICAgICAgIHN0YXRlbWVudCA9IGAke3N0YXRlbWVudH0gJHsKICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEub3BlcmF0b3JzW2ZpbHRlci5maWx0ZXJdCiAgICAgICAgICAgICAgfSAoJHtmaWx0ZXIuZmlsZUNvbnRlbnR9KWA7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlbWVudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIHNlbGVjdFN0YXRlbWVudCArCiAgICAgICAgICAiXG5XSEVSRSAiICsKICAgICAgICAgIGNvbmRpdGlvbnNTdGF0ZW1lbnQuam9pbigiXG4iKSArCiAgICAgICAgICBgXG5saW1pdCAke3RoaXMuJGRhdGEubnVtYmVyUm93c31gCiAgICAgICAgKTsKICAgICAgfQogICAgICByZXR1cm4gc2VsZWN0U3RhdGVtZW50ICsgYFxubGltaXQgJHt0aGlzLiRkYXRhLm51bWJlclJvd3N9YDsKICAgIH0sCiAgICBjb2x1bW5EYXRhKCkgewogICAgICBpZiAodGhpcy4kZGF0YS5jb2x1bW5TZWFyY2gpIHsKICAgICAgICByZXR1cm4gdGhpcy4kZGF0YS5jb2x1bW5zLmZpbHRlcigKICAgICAgICAgIGNvbHVtbiA9PgogICAgICAgICAgICBjb2x1bW4uY29sTmFtZQogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuJGRhdGEuY29sdW1uU2VhcmNoLnRvTG93ZXJDYXNlKCkpIHx8CiAgICAgICAgICAgIGNvbHVtbi5kZXNjLmluY2x1ZGVzKHRoaXMuJGRhdGEuY29sdW1uU2VhcmNoKQogICAgICAgICk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuJGRhdGEuY29sdW1uczsKICAgIH0sCiAgICBzZWxlY3RlZENvbHVtbnMoKSB7CiAgICAgIGlmICh0aGlzLiRkYXRhLmFkZGVkQ29sdW1ucykgewogICAgICAgIHJldHVybiB0aGlzLiRkYXRhLmFkZGVkQ29sdW1ucy5tYXAoY29sdW1uID0+IGNvbHVtbi5jb2xOYW1lKTsKICAgICAgfQogICAgICByZXR1cm4gW107CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["QueryBuilder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QueryBuilder.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card flat>\n    <v-card-title class=\"black white--text headline mb-3\">\n      Vuetify Query Builder\n    </v-card-title>\n    <v-card-text>\n      <span\n        style=\"font-family: Francois One !important\"\n        class=\"subtitle-1 mt-5 mb-5\"\n        >FROM</span\n      >\n      <v-select\n        v-model=\"selectedTable\"\n        dense\n        :items=\"tables\"\n        label=\"Select the table you want to query\"\n        outlined\n        class=\"mt-5\"\n      ></v-select>\n      <span style=\"font-family: Francois One !important\" class=\"subtitle-1\"\n        >SELECT</span\n      >\n      <v-divider class=\"mb-3 mt-3\"></v-divider>\n      <v-row\n        class=\"mt-5 mb-5\"\n        justify=\"space-between\"\n        align=\"center\"\n        no-gutters\n      >\n        <v-col cols=\"5\">\n          <v-list\n            style=\"max-height:500px\"\n            class=\"overflow-y-auto\"\n            two-line\n            subheader\n          >\n            <v-list-item>\n              <div\n                style=\"width:100%\"\n                class=\"d-flex justify-space-between align-center\"\n              >\n                <span style=\"color:#17a7c1\" class=\"font-weight-bold grey--text\"\n                  >Available Columns ({{ columns.length }})</span\n                >\n                <v-btn\n                  @click=\"addAllColumns\"\n                  class=\"caption\"\n                  small\n                  outlined\n                  text\n                  >Select all columns</v-btn\n                >\n              </div>\n            </v-list-item>\n            <v-list-item>\n              <v-text-field\n                append-icon=\"mdi-magnify\"\n                label=\"Filter\"\n              ></v-text-field>\n            </v-list-item>\n            <v-list-item v-for=\"item in columns\" :key=\"item.colName\">\n              <v-list-item-content>\n                <v-list-item-title v-text=\"item.colName\"></v-list-item-title>\n                <v-list-item-subtitle\n                  >This is the description of the column.</v-list-item-subtitle\n                >\n              </v-list-item-content>\n\n              <v-list-item-action>\n                <v-icon\n                  class=\"ma-0 pa-0\"\n                  v-if=\"addedColumns.includes(item)\"\n                  color=\"green lighten-1\"\n                  >mdi-check-circle</v-icon\n                >\n                <v-btn @click=\"addColumn(item)\" small v-else icon>\n                  <v-icon color=\"green lighten-1\">mdi-plus</v-icon>\n                </v-btn>\n              </v-list-item-action>\n            </v-list-item>\n          </v-list>\n        </v-col>\n\n        <v-col cols=\"5\">\n          <v-list\n            class=\"overflow-y-auto\"\n            style=\"height:500px;max-height:500px\"\n            two-line\n            subheader\n          >\n            <v-list-item>\n              <div\n                style=\"width:100%\"\n                class=\"d-flex justify-space-between align-center\"\n              >\n                <span class=\"font-weight-bold grey--text\"\n                  >Selected Columns</span\n                >\n                <v-btn @click=\"removeAllColumns\" small outlined text\n                  >Remove all columns</v-btn\n                >\n              </div>\n            </v-list-item>\n            <v-list-item>\n              <v-text-field\n                append-icon=\"mdi-magnify\"\n                label=\"Filter\"\n              ></v-text-field>\n            </v-list-item>\n            <v-list-item\n              v-for=\"item in addedColumns\"\n              :key=\"item.colName\"\n              @click=\"() => {}\"\n            >\n              <v-list-item-content>\n                <v-list-item-title v-text=\"item.colName\"></v-list-item-title>\n                <v-list-item-subtitle\n                  v-text=\"item.colName\"\n                ></v-list-item-subtitle>\n              </v-list-item-content>\n\n              <v-list-item-action>\n                <div>\n                  <v-btn @click=\"addFilter(item)\" icon>\n                    <v-icon color=\"secondary lighten-1\">mdi-filter</v-icon>\n                  </v-btn>\n                  <v-btn @click=\"removeColumns(item)\" icon>\n                    <v-icon color=\"red lighten-2\">mdi-delete-outline</v-icon>\n                  </v-btn>\n                </div>\n              </v-list-item-action>\n            </v-list-item>\n          </v-list>\n        </v-col>\n      </v-row>\n      <div class=\"d-flex justify-space-between align-center\">\n        <span style=\"font-family: Francois One !important\" class=\"subtitle-1\"\n          >FILTERS</span\n        >\n        <v-btn\n          style=\"font-family: Francois One !important\"\n          @click=\"addFilter\"\n          text\n        >\n          <v-icon>mdi-plus</v-icon>add filter</v-btn\n        >\n      </div>\n      <v-divider></v-divider>\n      <div class=\"mt-7\" v-if=\"addedFilters.length > 0\">\n        <v-row\n          v-for=\"(filter, index) in addedFilters\"\n          :key=\"filter.index\"\n          align=\"center\"\n          justify=\"start\"\n          flex-wrap\n          no-gutters\n        >\n          <v-col cols=\"1\">\n            <div class=\"d-flex align-center\">\n              <v-btn @click=\"removeFilter(filter.index)\" color=\"error\" icon>\n                <v-icon>mdi-delete-outline</v-icon>\n              </v-btn>\n              <v-btn-toggle small v-model=\"addedFilters[index].andOrOr\">\n                <v-btn small text value=\"and\">\n                  and\n                </v-btn>\n                <v-btn small text value=\"or\">\n                  or\n                </v-btn>\n              </v-btn-toggle>\n            </div>\n          </v-col>\n          <v-col class=\"mr-2\" cols=\"2\">\n            <v-select\n              @change=\"clearFilterDataUponColumnChange(index)\"\n              dense\n              v-model=\"addedFilters[index].column\"\n              :items=\"selectedColumns\"\n              label=\"column\"\n            ></v-select>\n          </v-col>\n          <v-col v-if=\"addedFilters[index].column\" cols=\"2\">\n            <v-select\n              dense\n              :items=\"columnFilters(filter.column)\"\n              v-model=\"addedFilters[index].filter\"\n              class=\"mr-2\"\n              label=\"condition\"\n            ></v-select>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                ['DATE', 'TIME', 'DATETIME'].includes(\n                  colType(addedFilters[index].column)\n                ) === false &&\n                addedFilters[index].file === null\n            \"\n            class=\"mr-2\"\n            cols=\"1\"\n          >\n            <v-text-field\n              :rules=\"[rules.required]\"\n              autocomplete=\"new-value\"\n              label=\"value\"\n              v-model=\"addedFilters[index].inputField1\"\n              dense\n            ></v-text-field>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                addedFilters[index].filter === 'between' &&\n                colType(addedFilters[index].column) === 'NUMERIC'\n            \"\n            cols=\"1\"\n          >\n            <div class=\"d-flex justify-center\">\n              <span class=\"text-uppercase\">and</span>\n            </div>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                addedFilters[index].filter === 'between' &&\n                colType(addedFilters[index].column) === 'NUMERIC'\n            \"\n            cols=\"1\"\n          >\n            <v-text-field\n              required\n              label=\"value\"\n              v-model=\"addedFilters[index].inputField2\"\n              :rules=\"[rules.required]\"\n              dense\n            ></v-text-field>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                addedFilters[index].filter == 'in'\n            \"\n            cols=\"1\"\n          >\n            <div class=\"d-flex align-center\">\n              <v-file-input\n                dense\n                :hide-input=\"addedFilters[index].file === null\"\n                v-model=\"addedFilters[index].file\"\n                @change=\"uploadFile($event, index)\"\n                accept=\".txt\"\n                label=\"Upload file\"\n              ></v-file-input>\n            </div>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                addedFilters[index].filter !== 'in' &&\n                ['DATE', 'DATETIME'].includes(\n                  colType(addedFilters[index].column)\n                )\n            \"\n            class=\"mr-2\"\n            cols=\"1\"\n          >\n            <v-menu\n              :close-on-content-click=\"true\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-text-field\n                  v-model=\"addedFilters[index].datePicker1\"\n                  :label=\"\n                    addedFilters[index].filter === 'between'\n                      ? 'Start date'\n                      : 'date'\n                  \"\n                  readonly\n                  v-on=\"on\"\n                  dense\n                  :rules=\"[rules.required]\"\n                ></v-text-field>\n              </template>\n              <v-date-picker\n                v-model=\"addedFilters[index].datePicker1\"\n                no-title\n                scrollable\n              ></v-date-picker>\n            </v-menu>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                addedFilters[index].filter !== 'in' &&\n                ['TIME', 'DATETIME'].includes(\n                  colType(addedFilters[index].column)\n                )\n            \"\n            cols=\"1\"\n          >\n            <v-menu\n              :close-on-content-click=\"false\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-text-field\n                  v-model=\"addedFilters[index].timePicker1\"\n                  :label=\"\n                    addedFilters[index].filter === 'between'\n                      ? 'Start time'\n                      : 'time'\n                  \"\n                  readonly\n                  v-on=\"on\"\n                  dense\n                  :rules=\"[rules.required]\"\n                ></v-text-field>\n              </template>\n              <v-time-picker\n                v-model=\"addedFilters[index].timePicker1\"\n                use-seconds\n                format=\"24hr\"\n                scrollable\n              ></v-time-picker>\n            </v-menu>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                ['DATE', 'DATETIME', 'TIME'].includes(\n                  colType(addedFilters[index].column)\n                ) &&\n                addedFilters[index].filter === 'between'\n            \"\n            cols=\"1\"\n          >\n            <div class=\"d-flex justify-center\">\n              <span class=\"text-uppercase\">and</span>\n            </div>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                ['DATE', 'DATETIME'].includes(\n                  colType(addedFilters[index].column)\n                ) &&\n                addedFilters[index].filter === 'between'\n            \"\n            cols=\"1\"\n          >\n            <v-menu\n              :close-on-content-click=\"true\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-text-field\n                  v-model=\"addedFilters[index].datePicker2\"\n                  label=\"End date\"\n                  readonly\n                  v-on=\"on\"\n                  dense\n                  :rules=\"[rules.required]\"\n                ></v-text-field>\n              </template>\n              <v-date-picker\n                v-model=\"addedFilters[index].datePicker2\"\n                no-title\n                scrollable\n              ></v-date-picker>\n            </v-menu>\n          </v-col>\n          <v-col\n            v-if=\"\n              addedFilters[index].column &&\n                addedFilters[index].filter &&\n                ['TIME', 'DATETIME'].includes(\n                  colType(addedFilters[index].column)\n                ) &&\n                addedFilters[index].filter === 'between'\n            \"\n            class=\"ml-2\"\n            cols=\"1\"\n          >\n            <v-menu\n              :close-on-content-click=\"false\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on }\">\n                <v-text-field\n                  v-model=\"addedFilters[index].timePicker2\"\n                  label=\"End time\"\n                  readonly\n                  v-on=\"on\"\n                  dense\n                  :rules=\"[rules.required]\"\n                ></v-text-field>\n              </template>\n              <v-time-picker\n                use-seconds\n                v-model=\"addedFilters[index].timePicker2\"\n                format=\"24hr\"\n                scrollable\n              ></v-time-picker>\n            </v-menu>\n          </v-col>\n        </v-row>\n      </div>\n      <div class=\"mt-5\">\n        <span\n          style=\"font-family: Francois One !important\"\n          class=\"subtitle-1 mb-5\"\n          >LIMIT</span\n        >\n        <v-divider></v-divider>\n        <v-form v-model=\"validRowNumberForm\">\n          <v-text-field\n            outlined\n            dense\n            label=\"Specify the number of records to return\"\n            class=\"mt-5\"\n            required\n            v-model=\"numberRows\"\n            :rules=\"[rules.required, rules.maxAndIntQueryRows]\"\n          ></v-text-field>\n        </v-form>\n      </div>\n      <div class=\"mt-5\">\n        <span\n          style=\"font-family: Francois One !important\"\n          class=\"subtitle-1 text-uppercase\"\n          >query preview</span\n        >\n        <v-divider></v-divider>\n\n        <pre class=\"pb-5 pt-2\" v-text=\"query\"></pre>\n      </div>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: \"QueryBuilder\",\n  data() {\n    return {\n      addedFilters: [],\n      filterIndex: 0,\n      columnSearch: \"\",\n      validRowNumberForm: true,\n      validFilters: false,\n      numberRows: 10000,\n      addedColumns: [],\n      file: \"\",\n      rules: {\n        required: value => !!value || \"Required.\",\n        maxAndIntQueryRows: value =>\n          (!!parseInt(value) && value >= 0 && value <= 10000) ||\n          \"Please insert a number between 1 and 10000 rows\"\n      },\n      selectAllColumns: false,\n      columnNames: [\n        \"Date Column 1\",\n        \"Numeric Column 1\",\n        \"Numeric Column 2\",\n        \"String Column 1\",\n        \"String Column 2\",\n        \"Time Column 1\",\n        \"Datetime Column 1\"\n      ],\n      tables: [\"Table1\", \"Table2\", \"Table3\", \"Table4\"],\n      filters: [\n        \"equal\",\n        \"not equal\",\n        \"greater than\",\n        \"less than\",\n        \"between\",\n        \"in\"\n      ],\n      selectedTable: null,\n      columns: [\n        {\n          colName: \"Date Column 1\",\n          type: \"DATE\",\n          desc: \"this is a description of the column\"\n        },\n        {\n          colName: \"Numeric Column 1\",\n          type: \"NUMERIC\",\n          desc: \"this is a description of the column\"\n        },\n        {\n          colName: \"Numeric Column 2\",\n          type: \"NUMERIC\",\n          desc: \"this is a description of the column\"\n        },\n        {\n          colName: \"String Column 1\",\n          type: \"CHARACTER\",\n          desc: \"this is a tamer of the column\"\n        },\n        {\n          colName: \"Date Column 2\",\n          type: \"DATE\",\n          desc: \"this is a john description of the column\"\n        },\n        {\n          colName: \"String Column 2\",\n          type: \"CHARACTER\",\n          desc: \"this is a description of the column\"\n        },\n        {\n          colName: \"Time Column 1\",\n          type: \"TIME\",\n          desc: \"this is a description of the column\"\n        },\n        {\n          colName: \"Datetime Column 1\",\n          type: \"DATETIME\",\n          desc: \"this is a description of the column\"\n        }\n      ],\n      operators: {\n        \"greater than\": \">\",\n        \"less than\": \"<\",\n        equal: \"==\",\n        \"not equal\": \"!==\",\n        in: \"in\",\n        between: \"between\"\n      }\n    };\n  },\n  methods: {\n    formatDate(date) {\n      if (!date) return null;\n\n      const [year, month, day] = date.split(\"-\");\n      return `${month}/${day}/${year}`;\n    },\n    addColumn: function(colData) {\n      if (this.$data.addedColumns.includes(colData) === false) {\n        this.$data.addedColumns.push(colData);\n      }\n    },\n    addAllColumns: function() {\n      this.$data.addedColumns = Array.from(this.$data.columns);\n    },\n    removeColumns: function(colData) {\n      const index = this.$data.addedColumns.indexOf(colData);\n      if (index > -1) {\n        this.$data.addedColumns.splice(index, 1);\n      }\n      this.$data.addedFilters = this.$data.addedFilters.filter(\n        filter => filter.column !== colData.colName\n      );\n    },\n    removeAllColumns: function() {\n      this.$data.addedColumns = [];\n    },\n    parseDate(date) {\n      if (!date) return null;\n\n      const [month, day, year] = date.split(\"/\");\n      return `${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`;\n    },\n    loadTextFromFile(ev) {\n      const file = ev.target.files[0];\n      const reader = new FileReader();\n      reader.onload = e => this.setFileContentForFilter(e.target.result);\n      reader.readAsText(file);\n    },\n    uploadFile(evt, filterIdx) {\n      console.log(evt);\n      if (evt !== undefined && evt !== null) {\n        var reader = new FileReader();\n        reader.readAsText(evt);\n        reader.onload = () => {\n          this.setFileContentForFilter(reader.result, filterIdx);\n        };\n      } else {\n        this.$data.addedFilters[filterIdx].fileContent = null;\n        this.$data.addedFilters[filterIdx].file = null;\n        this.$data.addedFilters[filterIdx].inputField1 = null;\n      }\n    },\n    setFileContentForFilter(fileData, filterIdx) {\n      console.log(\"setting data\");\n      const filter = this.$data.addedFilters[filterIdx];\n      var formatterData;\n      if (filter && this.colType(filter.column) === \"NUMERIC\") {\n        formatterData = fileData\n          .split(\"\\n\")\n          .map(dataPoint => parseInt(dataPoint));\n      } else {\n        formatterData = fileData\n          .split(\"\\n\")\n          .map(dataPoint => dataPoint.toString());\n      }\n      this.$data.addedFilters[filterIdx].fileContent = formatterData;\n      this.$data.addedFilters[filterIdx].inputField1 = formatterData;\n    },\n    addFilter(colData = null) {\n      let id = this.$data.filterIndex;\n      let filterData = {\n        index: id,\n        column: null,\n        andOrOr: \"and\",\n        filter: null,\n        inputField1: null,\n        inputField2: null,\n        datePicker1: null,\n        datePicker2: null,\n        timePicker1: null,\n        timePicker2: null,\n        file: null,\n        fileContent: null\n      };\n      if (colData !== null) {\n        filterData.column = colData.colName;\n      }\n      this.$data.addedFilters.push(filterData);\n      this.$data.filterIndex += 1;\n    },\n    removeFilter(filterIndex) {\n      this.$data.addedFilters = this.$data.addedFilters.filter(\n        filter => filter.index !== filterIndex\n      );\n    },\n    clearFilterDataUponColumnChange(filterArrayIndex) {\n      this.$data.addedFilters[filterArrayIndex].filter = null;\n      this.$data.addedFilters[filterArrayIndex].inputField1 = null;\n      this.$data.addedFilters[filterArrayIndex].inputField2 = null;\n      this.$data.addedFilters[filterArrayIndex].datePicker1 = null;\n      this.$data.addedFilters[filterArrayIndex].datePicker2 = null;\n      this.$data.addedFilters[filterArrayIndex].timePicker1 = null;\n      this.$data.addedFilters[filterArrayIndex].timePicker2 = null;\n      this.$data.addedFilters[filterArrayIndex].fileContent = null;\n    },\n    colType(col) {\n      if (col) {\n        const colData = this.$data.columns.find(item => item.colName === col);\n        return colData.type;\n      }\n    },\n    columnFilters(col) {\n      if (col !== null && col !== undefined) {\n        const colData = this.$data.columns.find(item => item.colName === col);\n        if (\n          [\"NUMERIC\", \"DATE\", \"TIME\", \"DATETIME\"].includes(colData.type) ===\n          true\n        ) {\n          return [\n            \"equal\",\n            \"not equal\",\n            \"greater than\",\n            \"less than\",\n            \"between\",\n            \"in\"\n          ];\n        } else if (colData.type === \"CHARACTER\") {\n          return [\"equal\", \"not equal\", \"in\"];\n        }\n      } else {\n        return [];\n      }\n    }\n  },\n  computed: {\n    computedDateFormatted() {\n      return this.formatDate(this.date);\n    },\n    query() {\n      const selectStatement =\n        this.$data.addedColumns.length === this.$data.columns.length\n          ? \"SELECT *\"\n          : `SELECT ${this.selectedColumns.map(col => `\"${col}\"`).join(\", \")}` +\n            `\\nFROM ${this.$data.selectedTable}`;\n      if (this.$data.addedFilters.length > 0) {\n        let conditionsStatement = this.$data.addedFilters.map(\n          (filter, index) => {\n            let statement =\n              index > 0\n                ? `${filter.andOrOr} \"${filter.column}\"`\n                : `\"${filter.column}\"`;\n            if (\n              [\"equal\", \"not equal\", \"greater than\", \"less than\"].includes(\n                filter.filter\n              ) &&\n              this.colType(filter.column) === \"NUMERIC\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } ${filter.inputField1}`;\n              return statement;\n            } else if (\n              [\"equal\", \"not equal\"].includes(filter.filter) &&\n              this.colType(filter.column) === \"CHARACTER\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.inputField1}'`;\n              return statement;\n            } else if (\n              [\"equal\", \"not equal\", \"greater than\", \"less than\"].includes(\n                filter.filter\n              ) &&\n              this.colType(filter.column) === \"DATE\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.datePicker1}'`;\n              return statement;\n            } else if (\n              filter.filter === \"between\" &&\n              this.colType(filter.column) === \"DATE\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.datePicker1}' and '${filter.datePicker2}'`;\n              return statement;\n            } else if (\n              [\"equal\", \"not equal\", \"greater than\", \"less than\"].includes(\n                filter.filter\n              ) &&\n              this.colType(filter.column) === \"TIME\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.timePicker1}'`;\n              return statement;\n            } else if (\n              filter.filter === \"between\" &&\n              this.colType(filter.column) === \"TIME\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.timePicker1}' and '${filter.timePicker2}'`;\n              return statement;\n            } else if (\n              [\"equal\", \"not equal\", \"greater than\", \"less than\"].includes(\n                filter.filter\n              ) &&\n              this.colType(filter.column) === \"DATETIME\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.datePicker1} ${filter.timePicker1}'`;\n              return statement;\n            } else if (\n              filter.filter === \"between\" &&\n              this.colType(filter.column) === \"DATETIME\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.datePicker1} ${filter.timePicker1}' and '${\n                filter.datePicker2\n              } ${filter.timePicker2}'`;\n              return statement;\n            } else if (\n              filter.filter === \"between\" &&\n              this.colType(filter.column) === \"NUMERIC\"\n            ) {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } '${filter.inputField1}' and '${filter.inputField2}'`;\n              return statement;\n            } else if (filter.filter === \"in\") {\n              statement = `${statement} ${\n                this.$data.operators[filter.filter]\n              } (${filter.fileContent})`;\n              return statement;\n            }\n          }\n        );\n        return (\n          selectStatement +\n          \"\\nWHERE \" +\n          conditionsStatement.join(\"\\n\") +\n          `\\nlimit ${this.$data.numberRows}`\n        );\n      }\n      return selectStatement + `\\nlimit ${this.$data.numberRows}`;\n    },\n    columnData() {\n      if (this.$data.columnSearch) {\n        return this.$data.columns.filter(\n          column =>\n            column.colName\n              .toLowerCase()\n              .includes(this.$data.columnSearch.toLowerCase()) ||\n            column.desc.includes(this.$data.columnSearch)\n        );\n      }\n      return this.$data.columns;\n    },\n    selectedColumns() {\n      if (this.$data.addedColumns) {\n        return this.$data.addedColumns.map(column => column.colName);\n      }\n      return [];\n    }\n  }\n};\n</script>\n"]}]}